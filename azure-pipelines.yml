jobs:
- job: Docker_Windows
  pool:
    vmImage: 'windows-2019'
  timeoutInMinutes: 120
  steps:
  - task: UsePythonVersion@0
    inputs:
      versionSpec: '3.7'
      architecture: 'x64'
  - script: |
      pip install -U docker-compose
      docker-compose build ${SERVICE}
  strategy:
    matrix:
      MSVC_14:
        SERVICE: "msvc14"
        DOCKER_USERNAME: "conanio"
      MSVC_15:
        SERVICE: "msvc15"
        DOCKER_USERNAME: "conanio"
      MSVC_16:
        SERVICE: "msvc16"
        DOCKER_USERNAME: "conanio"
